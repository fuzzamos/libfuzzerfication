<?xml version="1.0" encoding="UTF-8"?>

<sumoshader name="texture_blur" blending="true">
	<shader type="fragment" >
	
	<uniform type="sampler2DRect" name="$blurtexture" />
	
	<uniform type="float" name="$width" />
	
	
	<functions>
	</functions>
	
	<main>
	
	
	float amo=$width*4.0;
	
		// sample our textures
		vec4 sample0 = texture2DRect($blurtexture, vec2(gl_TexCoord[0].x,gl_TexCoord[0].y));
		vec4 sample1 = texture2DRect($blurtexture, vec2(gl_TexCoord[0].x+1.0*amo,gl_TexCoord[0].y));
		vec4 sample2 = texture2DRect($blurtexture, vec2(gl_TexCoord[0].x-1.0*amo,gl_TexCoord[0].y));
		vec4 sample3 = texture2DRect($blurtexture, vec2(gl_TexCoord[0].x+2.0*amo,gl_TexCoord[0].y));
		vec4 sample4 = texture2DRect($blurtexture, vec2(gl_TexCoord[0].x-2.0*amo,gl_TexCoord[0].y));
		vec4 sample5 = texture2DRect($blurtexture, vec2(gl_TexCoord[0].x+4.0*amo,gl_TexCoord[0].y));
		vec4 sample6 = texture2DRect($blurtexture, vec2(gl_TexCoord[0].x-4.0*amo,gl_TexCoord[0].y));
		vec4 sample7 = texture2DRect($blurtexture, vec2(gl_TexCoord[0].x+6.0*amo,gl_TexCoord[0].y));
		vec4 sample8 = texture2DRect($blurtexture, vec2(gl_TexCoord[0].x-6.0*amo,gl_TexCoord[0].y));
	
		color=(sample0 + sample1 + sample2 + sample3 + sample4 + sample5 + sample6 + sample7 + sample8 ) / 9.0;
	
	
	</main>
	
	</shader>
</sumoshader>

